<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçû Padaria Infinita</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bread-brown: #8B4513;
            --bread-light: #D2691E;
            --bread-dark: #5D3A1A;
            --golden: #FFD700;
            --cream: #FFF8DC;
            --bg-dark: #1a1a2e;
            --bg-medium: #16213e;
            --bg-light: #0f3460;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-medium) 50%, var(--bg-light) 100%);
            min-height: 100vh;
            color: var(--cream);
            overflow-x: hidden;
        }
        
        /* Part√≠culas de fundo */
        .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            font-size: 20px;
            opacity: 0.1;
            animation: floatParticle 20s infinite linear;
        }
        
        @keyframes floatParticle {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(360deg); }
        }
        
        /* Layout Principal */
        .game-container {
            display: grid;
            grid-template-columns: 1fr 350px 400px;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }
        
        /* Se√ß√£o Esquerda - Upgrades */
        .upgrades-section {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            overflow-y: auto;
            max-height: 100vh;
        }
        
        .section-title {
            font-family: 'Fredoka One', cursive;
            font-size: 1.5rem;
            color: var(--golden);
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .upgrade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .upgrade-item {
            width: 60px;
            height: 60px;
            background: linear-gradient(145deg, var(--bread-light), var(--bread-brown));
            border: 3px solid var(--bread-dark);
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .upgrade-item:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .upgrade-item.locked {
            background: linear-gradient(145deg, #444, #333);
            border-color: #222;
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .upgrade-item.purchased {
            background: linear-gradient(145deg, #4a7c4e, #2d5a30);
            border-color: #1a3d1c;
        }
        
        .upgrade-item.affordable {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
        }
        
        .upgrade-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 15px;
            border-radius: 10px;
            width: 250px;
            z-index: 1000;
            display: none;
            border: 2px solid var(--golden);
        }
        
        .upgrade-item:hover .upgrade-tooltip {
            display: block;
        }
        
        .tooltip-name {
            color: var(--golden);
            font-weight: bold;
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .tooltip-desc {
            font-size: 0.85rem;
            color: #ccc;
            margin-bottom: 8px;
        }
        
        .tooltip-cost {
            color: #ff6b6b;
            font-weight: bold;
        }
        
        /* Se√ß√£o Central - P√£o Principal */
        .main-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }
        
        .bread-counter {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .bread-count {
            font-family: 'Fredoka One', cursive;
            font-size: 3rem;
            color: var(--golden);
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }
        
        .bread-per-second {
            font-size: 1.2rem;
            color: #aaa;
            margin-top: 5px;
        }
        
        .main-bread-container {
            position: relative;
            cursor: pointer;
        }
        
        .main-bread {
            font-size: 200px;
            transition: transform 0.1s ease;
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.5));
            user-select: none;
        }
        
        .main-bread:hover {
            transform: scale(1.05);
        }
        
        .main-bread:active {
            transform: scale(0.95);
        }
        
        .main-bread.clicked {
            animation: breadClick 0.1s ease;
        }
        
        @keyframes breadClick {
            0% { transform: scale(1); }
            50% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }
        
        /* Part√≠culas de clique */
        .click-particle {
            position: absolute;
            pointer-events: none;
            font-weight: bold;
            color: var(--golden);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: floatUp 1s ease-out forwards;
            z-index: 100;
        }
        
        @keyframes floatUp {
            0% { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
            100% { 
                opacity: 0; 
                transform: translateY(-100px) scale(1.5);
            }
        }
        
        /* Mini p√£es voando */
        .flying-bread {
            position: absolute;
            font-size: 30px;
            pointer-events: none;
            animation: flyBread 0.5s ease-out forwards;
        }
        
        @keyframes flyBread {
            0% { 
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% { 
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) rotate(var(--rot)) scale(0.5);
            }
        }
        
        /* Stats r√°pidas */
        .quick-stats {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .stat-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #888;
        }
        
        .stat-value {
            font-family: 'Fredoka One', cursive;
            font-size: 1.2rem;
            color: var(--golden);
        }
        
        /* Se√ß√£o Direita - Produtores */
        .producers-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            overflow-y: auto;
            max-height: 100vh;
        }
        
        .producer-item {
            background: linear-gradient(145deg, rgba(139, 69, 19, 0.3), rgba(93, 58, 26, 0.3));
            border: 2px solid var(--bread-dark);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: grid;
            grid-template-columns: 50px 1fr auto;
            gap: 15px;
            align-items: center;
        }
        
        .producer-item:hover {
            background: linear-gradient(145deg, rgba(139, 69, 19, 0.5), rgba(93, 58, 26, 0.5));
            transform: translateX(-5px);
            box-shadow: 5px 0 20px rgba(255, 215, 0, 0.2);
        }
        
        .producer-item.locked {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .producer-item.affordable {
            border-color: var(--golden);
            animation: producerPulse 2s infinite;
        }
        
        @keyframes producerPulse {
            0%, 100% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.3); }
            50% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.6); }
        }
        
        .producer-icon {
            font-size: 2.5rem;
        }
        
        .producer-info {
            flex: 1;
        }
        
        .producer-name {
            font-weight: bold;
            font-size: 1rem;
            color: var(--cream);
        }
        
        .producer-owned {
            font-size: 0.8rem;
            color: #888;
        }
        
        .producer-production {
            font-size: 0.75rem;
            color: var(--golden);
        }
        
        .producer-cost-section {
            text-align: right;
        }
        
        .producer-cost {
            font-family: 'Fredoka One', cursive;
            font-size: 1rem;
            color: #ff6b6b;
        }
        
        .producer-count {
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            color: var(--golden);
        }
        
        /* Golden Bread */
        .golden-bread {
            position: fixed;
            font-size: 80px;
            cursor: pointer;
            z-index: 1000;
            filter: drop-shadow(0 0 20px gold);
            animation: goldenFloat 3s ease-in-out infinite, goldenGlow 0.5s ease-in-out infinite alternate;
            transition: transform 0.2s ease;
        }
        
        .golden-bread:hover {
            transform: scale(1.2);
        }
        
        @keyframes goldenFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes goldenGlow {
            0% { filter: drop-shadow(0 0 20px gold) brightness(1); }
            100% { filter: drop-shadow(0 0 40px gold) brightness(1.3); }
        }
        
        /* Modal de Conquistas */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal {
            background: linear-gradient(145deg, var(--bg-medium), var(--bg-dark));
            border: 3px solid var(--golden);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--cream);
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .modal-close:hover {
            transform: rotate(90deg);
        }
        
        .modal-title {
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            color: var(--golden);
            text-align: center;
            margin-bottom: 20px;
        }
        
        /* Conquistas */
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 15px;
        }
        
        .achievement-item {
            width: 80px;
            height: 80px;
            background: linear-gradient(145deg, #333, #222);
            border: 3px solid #444;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            position: relative;
            filter: grayscale(100%);
            opacity: 0.5;
        }
        
        .achievement-item.unlocked {
            filter: none;
            opacity: 1;
            background: linear-gradient(145deg, var(--bread-light), var(--bread-brown));
            border-color: var(--golden);
            animation: achievementUnlock 0.5s ease;
        }
        
        @keyframes achievementUnlock {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .achievement-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 10px;
            border-radius: 8px;
            width: 200px;
            text-align: center;
            display: none;
            z-index: 100;
            border: 2px solid var(--golden);
        }
        
        .achievement-item:hover .achievement-tooltip {
            display: block;
        }
        
        /* Notifica√ß√£o de conquista */
        .achievement-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: linear-gradient(145deg, var(--bread-brown), var(--bread-dark));
            border: 3px solid var(--golden);
            border-radius: 15px;
            padding: 20px 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 3000;
            transition: transform 0.5s ease;
        }
        
        .achievement-notification.show {
            transform: translateX(-50%) translateY(0);
        }
        
        .achievement-notification-icon {
            font-size: 3rem;
        }
        
        .achievement-notification-text {
            text-align: left;
        }
        
        .achievement-notification-title {
            font-family: 'Fredoka One', cursive;
            color: var(--golden);
            font-size: 1.2rem;
        }
        
        /* Menu de navega√ß√£o */
        .nav-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }
        
        .nav-btn {
            background: linear-gradient(145deg, var(--bread-light), var(--bread-brown));
            border: 2px solid var(--bread-dark);
            color: var(--cream);
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        /* Prest√≠gio */
        .prestige-section {
            background: linear-gradient(145deg, rgba(147, 112, 219, 0.2), rgba(75, 0, 130, 0.2));
            border: 2px solid #9370DB;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }
        
        .prestige-title {
            font-family: 'Fredoka One', cursive;
            color: #DDA0DD;
            font-size: 1.3rem;
            margin-bottom: 10px;
        }
        
        .prestige-info {
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 15px;
        }
        
        .prestige-btn {
            background: linear-gradient(145deg, #9370DB, #663399);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Fredoka One', cursive;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .prestige-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(147, 112, 219, 0.5);
        }
        
        .prestige-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .celestial-flour {
            font-family: 'Fredoka One', cursive;
            color: #DDA0DD;
            font-size: 1.5rem;
            margin-top: 10px;
        }
        
        /* Tabs para mobile */
        .mobile-tabs {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-dark);
            border-top: 2px solid var(--bread-brown);
            z-index: 100;
        }
        
        .mobile-tabs button {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            color: var(--cream);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .mobile-tabs button.active {
            background: var(--bread-brown);
        }
        
        /* Stats Modal */
        .stats-grid {
            display: grid;
            gap: 15px;
        }
        
        .stats-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }
        
        .stats-label {
            color: #888;
        }
        
        .stats-value {
            color: var(--golden);
            font-weight: bold;
        }
        
        /* Responsividade */
        @media (max-width: 1200px) {
            .game-container {
                grid-template-columns: 1fr;
            }
            
            .upgrades-section,
            .producers-section {
                display: none;
            }
            
            .upgrades-section.active,
            .producers-section.active {
                display: block;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 60px;
                z-index: 50;
            }
            
            .mobile-tabs {
                display: flex;
            }
            
            .main-bread {
                font-size: 150px;
            }
            
            .bread-count {
                font-size: 2rem;
            }
            
            .nav-buttons {
                top: auto;
                bottom: 70px;
                right: 10px;
            }
        }
        
        /* Scrollbar personalizada */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--bread-brown);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--bread-light);
        }
        
        /* Anima√ß√£o de salvamento */
        .save-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 10px;
            color: #4CAF50;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 100;
        }
        
        .save-indicator.show {
            opacity: 1;
        }
        
        /* Efeito de brilho no p√£o */
        .bread-shine {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            animation: shine 3s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes shine {
            0%, 100% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        /* Frenesi */
        .frenzy-active {
            animation: frenzyBg 0.5s ease-in-out infinite alternate;
        }
        
        @keyframes frenzyBg {
            0% { filter: brightness(1); }
            100% { filter: brightness(1.2); }
        }
        
        .frenzy-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Fredoka One', cursive;
            font-size: 3rem;
            color: var(--golden);
            text-shadow: 0 0 20px gold;
            pointer-events: none;
            z-index: 500;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .frenzy-indicator.show {
            opacity: 1;
            animation: frenzyText 0.5s ease-in-out infinite alternate;
        }
        
        @keyframes frenzyText {
            0% { transform: translate(-50%, -50%) scale(1); }
            100% { transform: translate(-50%, -50%) scale(1.1); }
        }
        
        /* Multiplicador visual */
        .multiplier-badge {
            position: absolute;
            top: -20px;
            right: -20px;
            background: linear-gradient(145deg, #ff6b6b, #ee5a5a);
            padding: 5px 12px;
            border-radius: 20px;
            font-family: 'Fredoka One', cursive;
            font-size: 0.9rem;
            color: white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }
        
        /* Tooltip melhorado para produtores */
        .producer-tooltip {
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 15px;
            border-radius: 10px;
            width: 280px;
            z-index: 1000;
            display: none;
            border: 2px solid var(--golden);
            margin-left: 10px;
        }
        
        .producer-item:hover .producer-tooltip {
            display: block;
        }
        
        /* Se√ß√£o de op√ß√µes */
        .options-grid {
            display: grid;
            gap: 10px;
        }
        
        .option-btn {
            background: linear-gradient(145deg, var(--bread-light), var(--bread-brown));
            border: 2px solid var(--bread-dark);
            color: var(--cream);
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: bold;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .option-btn:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .option-btn.danger {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            border-color: #922b21;
        }
        
        /* Combo indicator */
        .combo-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            color: #ff6b6b;
            text-shadow: 0 0 20px #ff6b6b;
            pointer-events: none;
            z-index: 400;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .combo-indicator.show {
            opacity: 1;
        }
        
        /* Season indicator */
        .season-indicator {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            padding: 10px 20px;
            border-radius: 10px;
            font-family: 'Fredoka One', cursive;
            color: white;
            z-index: 100;
            display: none;
        }
        
        .season-indicator.active {
            display: block;
            animation: seasonPulse 2s ease-in-out infinite;
        }
        
        @keyframes seasonPulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
        }
        
        /* Power-up indicator */
        .powerup-indicator {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(145deg, #9b59b6, #8e44ad);
            padding: 15px 25px;
            border-radius: 15px;
            font-family: 'Fredoka One', cursive;
            color: white;
            z-index: 100;
            display: none;
            text-align: center;
        }
        
        .powerup-indicator.active {
            display: block;
        }
        
        /* Order notification */
        .order-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(145deg, #27ae60, #229954);
            padding: 15px 20px;
            border-radius: 15px;
            font-family: 'Fredoka One', cursive;
            color: white;
            z-index: 100;
            display: none;
            max-width: 300px;
        }
        
        .order-notification.active {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Quality indicator */
        .quality-bar {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 20px;
            background: rgba(0,0,0,0.5);
            border-radius: 10px;
            overflow: hidden;
            z-index: 100;
        }
        
        .quality-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #f39c12, #27ae60, #2ecc71);
            transition: width 0.3s ease;
        }
        
        .quality-label {
            position: fixed;
            bottom: 125px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Fredoka One', cursive;
            color: var(--golden);
            font-size: 0.9rem;
            z-index: 100;
        }
        
        /* Auto-clicker indicator */
        .autoclicker-indicator {
            position: fixed;
            bottom: 150px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 10px;
            font-family: 'Nunito', sans-serif;
            color: #3498db;
            z-index: 100;
            display: none;
        }
        
        .autoclicker-indicator.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Part√≠culas de fundo -->
    <div class="bg-particles" id="bgParticles"></div>
    
    <!-- Indicador de salvamento -->
    <div class="save-indicator" id="saveIndicator">üíæ Jogo salvo!</div>
    
    <!-- Notifica√ß√£o de conquista -->
    <div class="achievement-notification" id="achievementNotification">
        <div class="achievement-notification-icon">üèÜ</div>
        <div class="achievement-notification-text">
            <div class="achievement-notification-title">Conquista Desbloqueada!</div>
            <div class="achievement-notification-desc" id="achievementNotificationDesc"></div>
        </div>
    </div>
    
    <!-- Indicador de Frenesi -->
    <div class="frenzy-indicator" id="frenzyIndicator">üî• FRENESI x777! üî•</div>
    
    <!-- Combo indicator -->
    <div class="combo-indicator" id="comboIndicator">COMBO x1</div>
    
    <!-- Season indicator -->
    <div class="season-indicator" id="seasonIndicator">üéâ Temporada: Fornos Dourados! x2 produ√ß√£o</div>
    
    <!-- Power-up indicator -->
    <div class="powerup-indicator" id="powerupIndicator">
        <div id="powerupName">‚ö° Super Padeiro</div>
        <div id="powerupTimer">Tempo restante: 30s</div>
    </div>
    
    <!-- Order notification -->
    <div class="order-notification" id="orderNotification">
        <div id="orderTitle">üìã Pedido de Cliente!</div>
        <div id="orderDesc">Precisa de 1000 p√£es</div>
        <div id="orderReward">Recompensa: 5000 üçû</div>
    </div>
    
    <!-- Quality bar -->
    <div class="quality-label">Qualidade do P√£o: <span id="qualityLevel">Comum</span></div>
    <div class="quality-bar">
        <div class="quality-fill" id="qualityFill" style="width: 0%"></div>
    </div>
    
    <!-- Auto-clicker indicator -->
    <div class="autoclicker-indicator" id="autoclickerIndicator">
        ü§ñ Auto-clicador ativo: <span id="autoclickerCount">0</span> cliques/s
    </div>
    
    <!-- Bot√µes de navega√ß√£o -->
    <div class="nav-buttons">
        <button class="nav-btn" onclick="openModal('achievementsModal')">üèÜ</button>
        <button class="nav-btn" onclick="openModal('statsModal')">üìä</button>
        <button class="nav-btn" onclick="openModal('optionsModal')">‚öôÔ∏è</button>
    </div>
    
    <!-- Container principal -->
    <div class="game-container">
        <!-- Se√ß√£o de Upgrades -->
        <section class="upgrades-section" id="upgradesSection">
            <h2 class="section-title">‚ú® Melhorias</h2>
            <div class="upgrade-grid" id="upgradeGrid"></div>
            
            <!-- Prest√≠gio -->
            <div class="prestige-section">
                <h3 class="prestige-title">üåü Ascens√£o Celestial</h3>
                <p class="prestige-info">Reinicie sua padaria para ganhar Farinha Celestial, que aumenta permanentemente sua produ√ß√£o!</p>
                <div class="celestial-flour">
                    <span id="currentCelestial">0</span> ‚ú® Farinha Celestial
                    <br>
                    <small>(+<span id="celestialBonus">0</span>% produ√ß√£o)</small>
                </div>
                <p style="margin: 10px 0; color: #aaa;">
                    Pr√≥xima ascens√£o: +<span id="nextCelestial">0</span> ‚ú®
                </p>
                <button class="prestige-btn" id="prestigeBtn" onclick="prestige()" disabled>
                    üåü Ascender
                </button>
            </div>
        </section>
        
        <!-- Se√ß√£o Principal -->
        <section class="main-section">
            <div class="bread-counter">
                <div class="bread-count"><span id="breadCount">0</span> üçû</div>
                <div class="bread-per-second">por segundo: <span id="bps">0</span></div>
            </div>
            
            <div class="main-bread-container" id="breadContainer">
                <div class="bread-shine"></div>
                <div class="main-bread" id="mainBread" onclick="clickBread(event)">üçû</div>
            </div>
            
            <div class="quick-stats">
                <div class="stat-box">
                    <div class="stat-label">Total produzido</div>
                    <div class="stat-value" id="totalProduced">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Cliques</div>
                    <div class="stat-value" id="totalClicks">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Por clique</div>
                    <div class="stat-value" id="perClick">1</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Combo</div>
                    <div class="stat-value" id="currentCombo">x1</div>
                </div>
            </div>
        </section>
        
        <!-- Se√ß√£o de Produtores -->
        <section class="producers-section" id="producersSection">
            <h2 class="section-title">üè≠ Produtores</h2>
            <div id="producersList"></div>
        </section>
    </div>
    
    <!-- Mobile Tabs -->
    <div class="mobile-tabs">
        <button onclick="showMobileSection('upgrades')" id="tabUpgrades">‚ú®</button>
        <button onclick="showMobileSection('main')" id="tabMain" class="active">üçû</button>
        <button onclick="showMobileSection('producers')" id="tabProducers">üè≠</button>
    </div>
    
    <!-- Modal de Conquistas -->
    <div class="modal-overlay" id="achievementsModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('achievementsModal')">√ó</button>
            <h2 class="modal-title">üèÜ Conquistas</h2>
            <p style="text-align: center; margin-bottom: 20px; color: #888;">
                <span id="achievementCount">0</span>/<span id="achievementTotal">0</span> desbloqueadas
            </p>
            <div class="achievement-grid" id="achievementGrid"></div>
        </div>
    </div>
    
    <!-- Modal de Estat√≠sticas -->
    <div class="modal-overlay" id="statsModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('statsModal')">√ó</button>
            <h2 class="modal-title">üìä Estat√≠sticas</h2>
            <div class="stats-grid" id="statsGrid"></div>
        </div>
    </div>
    
    <!-- Modal de Op√ß√µes -->
    <div class="modal-overlay" id="optionsModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('optionsModal')">√ó</button>
            <h2 class="modal-title">‚öôÔ∏è Op√ß√µes</h2>
            <div class="options-grid">
                <button class="option-btn" onclick="saveGame()">üíæ Salvar Jogo</button>
                <button class="option-btn" onclick="exportSave()">üì§ Exportar Save</button>
                <button class="option-btn" onclick="importSave()">üì• Importar Save</button>
                <button class="option-btn danger" onclick="resetGame()">üóëÔ∏è Resetar Jogo</button>
            </div>
            <div style="margin-top: 20px; text-align: center; color: #888; font-size: 0.9rem;">
                <p>Padaria Infinita v2.0</p>
                <p>Jogo salvo automaticamente a cada 30 segundos</p>
            </div>
        </div>
    </div>

    <script>
        // ==================== CONFIGURA√á√ÉO DO JOGO ====================
        
        const PRODUCERS = [
            {
                id: 'cursor',
                name: 'Cursor',
                icon: 'üëÜ',
                baseCost: 15,
                baseProduction: 0.1,
                description: 'Clica automaticamente no p√£o.',
                flavor: 'Dedos incans√°veis trabalhando 24/7.'
            },
            {
                id: 'baker',
                name: 'Padeiro',
                icon: 'üë®‚Äçüç≥',
                baseCost: 100,
                baseProduction: 1,
                description: 'Um padeiro artesanal dedicado.',
                flavor: 'Acorda √†s 4h da manh√£ com um sorriso.'
            },
            {
                id: 'oven',
                name: 'Forno',
                icon: 'üî•',
                baseCost: 1100,
                baseProduction: 8,
                description: 'Forno industrial de alta capacidade.',
                flavor: 'Quente o suficiente para derreter sonhos.'
            },
            {
                id: 'bakery',
                name: 'Padaria',
                icon: 'üè™',
                baseCost: 12000,
                baseProduction: 47,
                description: 'Uma padaria completa com equipe.',
                flavor: 'O cheiro de p√£o fresco atrai clientes de longe.'
            },
            {
                id: 'factory',
                name: 'F√°brica',
                icon: 'üè≠',
                baseCost: 130000,
                baseProduction: 260,
                description: 'Produ√ß√£o industrial em massa.',
                flavor: 'Milhares de p√£es por hora, todos iguais.'
            },
            {
                id: 'farm',
                name: 'Fazenda de Trigo',
                icon: 'üåæ',
                baseCost: 1400000,
                baseProduction: 1400,
                description: 'Fornece trigo infinito para seus p√£es.',
                flavor: 'Campos dourados at√© onde a vista alcan√ßa.'
            },
            {
                id: 'mill',
                name: 'Moinho',
                icon: '‚öôÔ∏è',
                baseCost: 20000000,
                baseProduction: 7800,
                description: 'Moinho m√°gico que multiplica farinha.',
                flavor: 'As pedras nunca param de girar.'
            },
            {
                id: 'temple',
                name: 'Templo do P√£o',
                icon: 'üõï',
                baseCost: 330000000,
                baseProduction: 44000,
                description: 'Monges devotados ao p√£o sagrado.',
                flavor: 'Ora√ß√µes transformadas em carboidratos.'
            },
            {
                id: 'portal',
                name: 'Portal Dimensional',
                icon: 'üåÄ',
                baseCost: 5100000000,
                baseProduction: 260000,
                description: 'Importa p√£es de dimens√µes alternativas.',
                flavor: 'Alguns p√£es t√™m sabores inexplic√°veis.'
            },
            {
                id: 'timemachine',
                name: 'M√°quina do Tempo',
                icon: '‚è∞',
                baseCost: 75000000000,
                baseProduction: 1600000,
                description: 'Traz p√£es do passado e do futuro.',
                flavor: 'Paradoxos temporais s√£o deliciosos.'
            },
            {
                id: 'condenser',
                name: 'Condensador de P√£es',
                icon: '‚ö°',
                baseCost: 1000000000000,
                baseProduction: 10000000,
                description: 'Condensa a ess√™ncia do universo em p√£o.',
                flavor: 'Cada √°tomo pode ser um p√£o.'
            },
            {
                id: 'universe',
                name: 'Padaria Universal',
                icon: 'üåå',
                baseCost: 14000000000000,
                baseProduction: 65000000,
                description: 'Uma padaria do tamanho do universo.',
                flavor: 'Gal√°xias inteiras feitas de p√£o.'
            }
        ];
        
        const UPGRADES = [
            // Upgrades de clique
            { id: 'click1', name: 'Dedos Fortes', icon: 'üí™', cost: 100, type: 'click', multiplier: 2, requirement: { clicks: 100 }, description: 'Dobra p√£es por clique.' },
            { id: 'click2', name: 'M√£os de Padeiro', icon: 'ü§≤', cost: 500, type: 'click', multiplier: 2, requirement: { clicks: 500 }, description: 'Dobra p√£es por clique novamente.' },
            { id: 'click3', name: 'T√©cnica Ancestral', icon: 'üìú', cost: 5000, type: 'click', multiplier: 2, requirement: { clicks: 2000 }, description: 'Mais uma duplica√ß√£o de cliques.' },
            { id: 'click4', name: 'Toque Dourado', icon: '‚ú®', cost: 50000, type: 'click', multiplier: 2, requirement: { clicks: 5000 }, description: 'Cliques valem ouro!' },
            { id: 'click5', name: 'M√£os Divinas', icon: 'üôè', cost: 500000, type: 'click', multiplier: 2, requirement: { clicks: 10000 }, description: 'Cliques aben√ßoados.' },
            
            // Upgrades de cursor
            { id: 'cursor1', name: 'Cursor Refor√ßado', icon: 'üëÜ', cost: 100, type: 'producer', target: 'cursor', multiplier: 2, requirement: { cursor: 1 }, description: 'Cursores s√£o 2x mais eficientes.' },
            { id: 'cursor2', name: 'Mil Cursores', icon: 'üñ±Ô∏è', cost: 500, type: 'producer', target: 'cursor', multiplier: 2, requirement: { cursor: 5 }, description: 'Cursores s√£o 2x mais eficientes.' },
            { id: 'cursor3', name: 'Cursor Qu√¢ntico', icon: '‚öõÔ∏è', cost: 10000, type: 'producer', target: 'cursor', multiplier: 2, requirement: { cursor: 25 }, description: 'Cursores s√£o 2x mais eficientes.' },
            
            // Upgrades de padeiro
            { id: 'baker1', name: 'Receita da Vov√≥', icon: 'üëµ', cost: 1000, type: 'producer', target: 'baker', multiplier: 2, requirement: { baker: 1 }, description: 'Padeiros s√£o 2x mais eficientes.' },
            { id: 'baker2', name: 'Curso Profissional', icon: 'üéì', cost: 5000, type: 'producer', target: 'baker', multiplier: 2, requirement: { baker: 5 }, description: 'Padeiros s√£o 2x mais eficientes.' },
            { id: 'baker3', name: 'Mestria Culin√°ria', icon: 'üèÖ', cost: 50000, type: 'producer', target: 'baker', multiplier: 2, requirement: { baker: 25 }, description: 'Padeiros s√£o 2x mais eficientes.' },
            
            // Upgrades de forno
            { id: 'oven1', name: 'Forno a Lenha', icon: 'ü™µ', cost: 11000, type: 'producer', target: 'oven', multiplier: 2, requirement: { oven: 1 }, description: 'Fornos s√£o 2x mais eficientes.' },
            { id: 'oven2', name: 'Forno El√©trico', icon: '‚ö°', cost: 55000, type: 'producer', target: 'oven', multiplier: 2, requirement: { oven: 5 }, description: 'Fornos s√£o 2x mais eficientes.' },
            { id: 'oven3', name: 'Forno Nuclear', icon: '‚ò¢Ô∏è', cost: 550000, type: 'producer', target: 'oven', multiplier: 2, requirement: { oven: 25 }, description: 'Fornos s√£o 2x mais eficientes.' },
            
            // Upgrades de padaria
            { id: 'bakery1', name: 'Decora√ß√£o Aconchegante', icon: 'üé®', cost: 120000, type: 'producer', target: 'bakery', multiplier: 2, requirement: { bakery: 1 }, description: 'Padarias s√£o 2x mais eficientes.' },
            { id: 'bakery2', name: 'Franquia', icon: 'üìã', cost: 600000, type: 'producer', target: 'bakery', multiplier: 2, requirement: { bakery: 5 }, description: 'Padarias s√£o 2x mais eficientes.' },
            { id: 'bakery3', name: 'Imp√©rio do P√£o', icon: 'üëë', cost: 6000000, type: 'producer', target: 'bakery', multiplier: 2, requirement: { bakery: 25 }, description: 'Padarias s√£o 2x mais eficientes.' },
            
            // Upgrades de f√°brica
            { id: 'factory1', name: 'Automa√ß√£o', icon: 'ü§ñ', cost: 1300000, type: 'producer', target: 'factory', multiplier: 2, requirement: { factory: 1 }, description: 'F√°bricas s√£o 2x mais eficientes.' },
            { id: 'factory2', name: 'IA Avan√ßada', icon: 'üß†', cost: 6500000, type: 'producer', target: 'factory', multiplier: 2, requirement: { factory: 5 }, description: 'F√°bricas s√£o 2x mais eficientes.' },
            { id: 'factory3', name: 'Singularidade', icon: 'üåü', cost: 65000000, type: 'producer', target: 'factory', multiplier: 2, requirement: { factory: 25 }, description: 'F√°bricas s√£o 2x mais eficientes.' },
            
            // Upgrades de fazenda
            { id: 'farm1', name: 'Irriga√ß√£o Avan√ßada', icon: 'üíß', cost: 14000000, type: 'producer', target: 'farm', multiplier: 2, requirement: { farm: 1 }, description: 'Fazendas s√£o 2x mais eficientes.' },
            { id: 'farm2', name: 'Trigo Geneticamente Modificado', icon: 'üß¨', cost: 70000000, type: 'producer', target: 'farm', multiplier: 2, requirement: { farm: 5 }, description: 'Fazendas s√£o 2x mais eficientes.' },
            
            // Upgrades de moinho
            { id: 'mill1', name: 'Pedras Encantadas', icon: 'üíé', cost: 200000000, type: 'producer', target: 'mill', multiplier: 2, requirement: { mill: 1 }, description: 'Moinhos s√£o 2x mais eficientes.' },
            { id: 'mill2', name: 'Vento Perp√©tuo', icon: 'üå™Ô∏è', cost: 1000000000, type: 'producer', target: 'mill', multiplier: 2, requirement: { mill: 5 }, description: 'Moinhos s√£o 2x mais eficientes.' },
            
            // Upgrades de templo
            { id: 'temple1', name: 'Rel√≠quias Sagradas', icon: 'üè∫', cost: 3300000000, type: 'producer', target: 'temple', multiplier: 2, requirement: { temple: 1 }, description: 'Templos s√£o 2x mais eficientes.' },
            
            // Upgrades de portal
            { id: 'portal1', name: 'Estabiliza√ß√£o Dimensional', icon: 'üîÆ', cost: 51000000000, type: 'producer', target: 'portal', multiplier: 2, requirement: { portal: 1 }, description: 'Portais s√£o 2x mais eficientes.' },
            
            // Upgrades de m√°quina do tempo
            { id: 'time1', name: 'Paradoxo Controlado', icon: 'üï∞Ô∏è', cost: 750000000000, type: 'producer', target: 'timemachine', multiplier: 2, requirement: { timemachine: 1 }, description: 'M√°quinas do tempo s√£o 2x mais eficientes.' },
            
            // Upgrades globais
            { id: 'global1', name: 'Fermento Milagroso', icon: 'ü¶†', cost: 10000000, type: 'global', multiplier: 1.1, requirement: { breads: 10000000 }, description: '+10% produ√ß√£o total.' },
            { id: 'global2', name: 'B√™n√ß√£o do Trigo', icon: '‚úùÔ∏è', cost: 100000000, type: 'global', multiplier: 1.1, requirement: { breads: 100000000 }, description: '+10% produ√ß√£o total.' },
            { id: 'global3', name: 'Pacto com o Gl√∫ten', icon: 'üòà', cost: 1000000000, type: 'global', multiplier: 1.15, requirement: { breads: 1000000000 }, description: '+15% produ√ß√£o total.' },
            
            // Upgrades de combo
            { id: 'combo1', name: 'Reflexos R√°pidos', icon: '‚ö°', cost: 5000, type: 'combo', multiplier: 1.5, requirement: { clicks: 100 }, description: '+50% combo.' },
            { id: 'combo2', name: 'Mestre do Combo', icon: 'üéØ', cost: 50000, type: 'combo', multiplier: 1.5, requirement: { clicks: 1000 }, description: '+50% combo.' },
            { id: 'combo3', name: 'Combo Infinito', icon: '‚ôæÔ∏è', cost: 500000, type: 'combo', multiplier: 2, requirement: { clicks: 5000 }, description: 'Dobra o combo!' },
            
            // Upgrades de golden bread
            { id: 'golden1', name: 'Sorte Dourada', icon: 'üçÄ', cost: 777777, type: 'golden', multiplier: 1.5, requirement: { goldenClicks: 7 }, description: 'P√£es dourados aparecem 50% mais.' },
            { id: 'golden2', name: 'Fortuna Radiante', icon: 'üí´', cost: 77777777, type: 'golden', multiplier: 1.5, requirement: { goldenClicks: 27 }, description: 'P√£es dourados aparecem mais 50%.' },
            
            // Upgrades de auto-clicker
            { id: 'autoclicker1', name: 'Rob√¥zinho', icon: 'ü§ñ', cost: 100000, type: 'autoclicker', multiplier: 1, requirement: { cursor: 10 }, description: '1 clique autom√°tico por segundo.' },
            { id: 'autoclicker2', name: 'Rob√¥ Padeiro', icon: 'ü§ñ', cost: 1000000, type: 'autoclicker', multiplier: 1, requirement: { cursor: 50 }, description: 'Mais 1 clique autom√°tico por segundo.' },
            { id: 'autoclicker3', name: 'Ex√©rcito de Rob√¥s', icon: 'ü§ñ', cost: 10000000, type: 'autoclicker', multiplier: 1, requirement: { cursor: 100 }, description: 'Mais 2 cliques autom√°ticos por segundo.' },
        ];
        
        const ACHIEVEMENTS = [
            // Conquistas de p√£es
            { id: 'bread1', name: 'Primeiro P√£o', icon: 'üçû', requirement: { breads: 1 }, description: 'Fa√ßa seu primeiro p√£o.' },
            { id: 'bread2', name: 'Padeiro Iniciante', icon: 'üë∂', requirement: { breads: 100 }, description: 'Fa√ßa 100 p√£es.' },
            { id: 'bread3', name: 'Fornada Completa', icon: 'ü•ñ', requirement: { breads: 1000 }, description: 'Fa√ßa 1.000 p√£es.' },
            { id: 'bread4', name: 'Padaria Popular', icon: 'üè†', requirement: { breads: 10000 }, description: 'Fa√ßa 10.000 p√£es.' },
            { id: 'bread5', name: 'Mestre Padeiro', icon: 'üë®‚Äçüç≥', requirement: { breads: 100000 }, description: 'Fa√ßa 100.000 p√£es.' },
            { id: 'bread6', name: 'Imp√©rio do P√£o', icon: 'üè∞', requirement: { breads: 1000000 }, description: 'Fa√ßa 1 milh√£o de p√£es.' },
            { id: 'bread7', name: 'Magnata do Gl√∫ten', icon: 'üí∞', requirement: { breads: 100000000 }, description: 'Fa√ßa 100 milh√µes de p√£es.' },
            { id: 'bread8', name: 'Bilion√°rio em P√£es', icon: 'üíé', requirement: { breads: 1000000000 }, description: 'Fa√ßa 1 bilh√£o de p√£es.' },
            { id: 'bread9', name: 'Trilion√°rio Farin√°ceo', icon: 'üåü', requirement: { breads: 1000000000000 }, description: 'Fa√ßa 1 trilh√£o de p√£es.' },
            
            // Conquistas de cliques
            { id: 'click1', name: 'Clicador', icon: 'üëÜ', requirement: { clicks: 100 }, description: 'Clique 100 vezes.' },
            { id: 'click2', name: 'Dedo Veloz', icon: '‚ö°', requirement: { clicks: 1000 }, description: 'Clique 1.000 vezes.' },
            { id: 'click3', name: 'Clicador Compulsivo', icon: 'üñ±Ô∏è', requirement: { clicks: 10000 }, description: 'Clique 10.000 vezes.' },
            { id: 'click4', name: 'Lenda do Clique', icon: 'üèÜ', requirement: { clicks: 100000 }, description: 'Clique 100.000 vezes.' },
            
            // Conquistas de produtores
            { id: 'cursor10', name: '10 Cursores', icon: 'üëÜ', requirement: { cursor: 10 }, description: 'Tenha 10 cursores.' },
            { id: 'cursor50', name: '50 Cursores', icon: 'üñ±Ô∏è', requirement: { cursor: 50 }, description: 'Tenha 50 cursores.' },
            { id: 'baker10', name: '10 Padeiros', icon: 'üë®‚Äçüç≥', requirement: { baker: 10 }, description: 'Tenha 10 padeiros.' },
            { id: 'baker50', name: '50 Padeiros', icon: 'üë©‚Äçüç≥', requirement: { baker: 50 }, description: 'Tenha 50 padeiros.' },
            { id: 'oven10', name: '10 Fornos', icon: 'üî•', requirement: { oven: 10 }, description: 'Tenha 10 fornos.' },
            { id: 'bakery10', name: '10 Padarias', icon: 'üè™', requirement: { bakery: 10 }, description: 'Tenha 10 padarias.' },
            { id: 'factory10', name: '10 F√°bricas', icon: 'üè≠', requirement: { factory: 10 }, description: 'Tenha 10 f√°bricas.' },
            { id: 'farm10', name: '10 Fazendas', icon: 'üåæ', requirement: { farm: 10 }, description: 'Tenha 10 fazendas.' },
            { id: 'mill10', name: '10 Moinhos', icon: '‚öôÔ∏è', requirement: { mill: 10 }, description: 'Tenha 10 moinhos.' },
            { id: 'temple10', name: '10 Templos', icon: 'üõï', requirement: { temple: 10 }, description: 'Tenha 10 templos.' },
            { id: 'portal10', name: '10 Portais', icon: 'üåÄ', requirement: { portal: 10 }, description: 'Tenha 10 portais.' },
            
            // Conquistas de golden bread
            { id: 'golden1', name: 'P√£o Dourado!', icon: '‚ú®', requirement: { goldenClicks: 1 }, description: 'Clique em um p√£o dourado.' },
            { id: 'golden7', name: 'Ca√ßador de Ouro', icon: 'üèÖ', requirement: { goldenClicks: 7 }, description: 'Clique em 7 p√£es dourados.' },
            { id: 'golden27', name: 'Midas da Padaria', icon: 'üëë', requirement: { goldenClicks: 27 }, description: 'Clique em 27 p√£es dourados.' },
            
            // Conquistas de combo
            { id: 'combo10', name: 'Combo Iniciante', icon: 'üéØ', requirement: { maxCombo: 10 }, description: 'Alcance combo x10.' },
            { id: 'combo50', name: 'Combo Master', icon: 'üî•', requirement: { maxCombo: 50 }, description: 'Alcance combo x50.' },
            { id: 'combo100', name: 'Combo Legend√°rio', icon: '‚ö°', requirement: { maxCombo: 100 }, description: 'Alcance combo x100.' },
            
            // Conquistas de prest√≠gio
            { id: 'prestige1', name: 'Ascens√£o', icon: 'üåü', requirement: { prestiges: 1 }, description: 'Fa√ßa sua primeira ascens√£o.' },
            { id: 'prestige5', name: 'Transcend√™ncia', icon: 'üí´', requirement: { prestiges: 5 }, description: 'Ascenda 5 vezes.' },
            
            // Conquistas especiais
            { id: 'upgrades10', name: 'Melhorista', icon: 'üìà', requirement: { upgrades: 10 }, description: 'Compre 10 melhorias.' },
            { id: 'upgrades25', name: 'Otimizador', icon: 'üîß', requirement: { upgrades: 25 }, description: 'Compre 25 melhorias.' },
            { id: 'quality100', name: 'Padeiro Perfeito', icon: '‚≠ê', requirement: { quality: 100 }, description: 'Alcance qualidade m√°xima.' },
        ];
        
        // ==================== ESTADO DO JOGO ====================
        
        let gameState = {
            breads: 0,
            totalBreads: 0,
            totalClicks: 0,
            clickValue: 1,
            producers: {},
            upgrades: [],
            achievements: [],
            celestialFlour: 0,
            totalPrestiges: 0,
            goldenClicks: 0,
            startTime: Date.now(),
            lastSave: Date.now(),
            frenzyMultiplier: 1,
            frenzyEndTime: 0,
            goldenBreadSpawnRate: 1,
            // Novos sistemas
            combo: 1,
            maxCombo: 1,
            comboTimer: 0,
            lastClickTime: 0,
            quality: 0,
            qualityTimer: 0,
            currentSeason: null,
            seasonEndTime: 0,
            activePowerup: null,
            powerupEndTime: 0,
            currentOrder: null,
            orderEndTime: 0,
            autoClickers: 0,
            totalComboClicks: 0
        };
        
        // Inicializar produtores
        PRODUCERS.forEach(p => {
            gameState.producers[p.id] = { count: 0, production: p.baseProduction };
        });
        
        // ==================== FUN√á√ïES UTILIT√ÅRIAS ====================
        
        function formatNumber(num) {
            if (num < 1000) return Math.floor(num).toString();
            if (num < 1000000) return (num / 1000).toFixed(2) + 'K';
            if (num < 1000000000) return (num / 1000000).toFixed(2) + 'M';
            if (num < 1000000000000) return (num / 1000000000).toFixed(2) + 'B';
            if (num < 1000000000000000) return (num / 1000000000000).toFixed(2) + 'T';
            if (num < 1000000000000000000) return (num / 1000000000000000).toFixed(2) + 'Qa';
            return num.toExponential(2);
        }
        
        function formatTime(ms) {
            const seconds = Math.floor(ms / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);
            
            if (days > 0) return `${days}d ${hours % 24}h`;
            if (hours > 0) return `${hours}h ${minutes % 60}m`;
            if (minutes > 0) return `${minutes}m ${seconds % 60}s`;
            return `${seconds}s`;
        }
        
        function getProducerCost(producer) {
            const base = PRODUCERS.find(p => p.id === producer.id || p.id === producer).baseCost;
            const count = typeof producer === 'string' ? gameState.producers[producer].count : producer.count;
            return Math.floor(base * Math.pow(1.15, count));
        }
        
        function getTotalBPS() {
            let bps = 0;
            PRODUCERS.forEach(p => {
                const owned = gameState.producers[p.id];
                bps += owned.count * owned.production;
            });
            
            // Aplicar b√¥nus de farinha celestial
            const celestialBonus = 1 + (gameState.celestialFlour * 0.01);
            
            // Aplicar multiplicador de frenesi
            const frenzy = gameState.frenzyMultiplier;
            
            // Aplicar upgrades globais
            let globalMultiplier = 1;
            UPGRADES.filter(u => u.type === 'global' && gameState.upgrades.includes(u.id)).forEach(u => {
                globalMultiplier *= u.multiplier;
            });
            
            // Aplicar temporada
            let seasonMultiplier = 1;
            if (gameState.currentSeason) {
                seasonMultiplier = gameState.currentSeason.multiplier;
            }
            
            // Aplicar power-up
            let powerupMultiplier = 1;
            if (gameState.activePowerup) {
                powerupMultiplier = gameState.activePowerup.multiplier;
            }
            
            // Aplicar qualidade
            const qualityMultiplier = 1 + (gameState.quality / 100);
            
            return bps * celestialBonus * frenzy * globalMultiplier * seasonMultiplier * powerupMultiplier * qualityMultiplier;
        }
        
        function getClickValue() {
            let value = 1;
            
            // Upgrades de clique
            UPGRADES.filter(u => u.type === 'click' && gameState.upgrades.includes(u.id)).forEach(u => {
                value *= u.multiplier;
            });
            
            // Upgrades de combo
            UPGRADES.filter(u => u.type === 'combo' && gameState.upgrades.includes(u.id)).forEach(u => {
                value *= u.multiplier;
            });
            
            // B√¥nus de farinha celestial
            const celestialBonus = 1 + (gameState.celestialFlour * 0.01);
            
            // Frenesi
            const frenzy = gameState.frenzyMultiplier;
            
            // Power-up
            let powerupMultiplier = 1;
            if (gameState.activePowerup) {
                powerupMultiplier = gameState.activePowerup.multiplier;
            }
            
            // Qualidade
            const qualityMultiplier = 1 + (gameState.quality / 100);
            
            return Math.floor(value * celestialBonus * frenzy * powerupMultiplier * qualityMultiplier);
        }
        
        function getComboMultiplier() {
            let comboMult = 1;
            
            // Upgrades de combo
            UPGRADES.filter(u => u.type === 'combo' && gameState.upgrades.includes(u.id)).forEach(u => {
                comboMult *= u.multiplier;
            });
            
            return comboMult;
        }
        
        // ==================== FUN√á√ïES DE JOGO ====================
        
        function clickBread(event) {
            const clickValue = getClickValue() * gameState.combo * getComboMultiplier();
            gameState.breads += clickValue;
            gameState.totalBreads += clickValue;
            gameState.totalClicks++;
            gameState.totalComboClicks++;
            
            // Sistema de combo
            const now = Date.now();
            if (now - gameState.lastClickTime < 500) {
                gameState.combo = Math.min(gameState.combo + 1, 100);
                if (gameState.combo > gameState.maxCombo) {
                    gameState.maxCombo = gameState.combo;
                }
            } else {
                gameState.combo = 1;
            }
            gameState.lastClickTime = now;
            gameState.comboTimer = 1000;
            
            // Sistema de qualidade
            gameState.quality = Math.min(gameState.quality + 1, 100);
            gameState.qualityTimer = 2000;
            
            // Criar part√≠cula de clique
            createClickParticle(event, clickValue);
            
            // Criar mini p√£es voando
            createFlyingBreads(event);
            
            // Anima√ß√£o do p√£o
            const bread = document.getElementById('mainBread');
            bread.classList.add('clicked');
            setTimeout(() => bread.classList.remove('clicked'), 100);
            
            updateDisplay();
            checkAchievements();
        }
        
        function createClickParticle(event, value) {
            const particle = document.createElement('div');
            particle.className = 'click-particle';
            particle.textContent = '+' + formatNumber(value);
            particle.style.left = event.clientX + 'px';
            particle.style.top = event.clientY + 'px';
            particle.style.fontSize = Math.min(20 + Math.log10(value + 1) * 5, 40) + 'px';
            document.body.appendChild(particle);
            
            setTimeout(() => particle.remove(), 1000);
        }
        
        function createFlyingBreads(event) {
            for (let i = 0; i < 3; i++) {
                const bread = document.createElement('div');
                bread.className = 'flying-bread';
                bread.textContent = 'üçû';
                bread.style.left = event.clientX + 'px';
                bread.style.top = event.clientY + 'px';
                bread.style.setProperty('--tx', (Math.random() - 0.5) * 200 + 'px');
                bread.style.setProperty('--ty', -Math.random() * 100 - 50 + 'px');
                bread.style.setProperty('--rot', (Math.random() - 0.5) * 720 + 'deg');
                document.body.appendChild(bread);
                
                setTimeout(() => bread.remove(), 500);
            }
        }
        
        function buyProducer(producerId) {
            const producer = PRODUCERS.find(p => p.id === producerId);
            const cost = getProducerCost(producerId);
            
            if (gameState.breads >= cost) {
                gameState.breads -= cost;
                gameState.producers[producerId].count++;
                updateDisplay();
                checkAchievements();
            }
        }
        
        function buyUpgrade(upgradeId) {
            const upgrade = UPGRADES.find(u => u.id === upgradeId);
            
            if (gameState.breads >= upgrade.cost && !gameState.upgrades.includes(upgradeId) && checkRequirement(upgrade.requirement)) {
                gameState.breads -= upgrade.cost;
                gameState.upgrades.push(upgradeId);
                
                // Aplicar efeito do upgrade
                if (upgrade.type === 'producer' && upgrade.target) {
                    gameState.producers[upgrade.target].production *= upgrade.multiplier;
                }
                
                // Upgrades de auto-clicker
                if (upgrade.type === 'autoclicker') {
                    gameState.autoClickers++;
                }
                
                updateDisplay();
                checkAchievements();
            }
        }
        
        function checkRequirement(req) {
            if (!req) return true;
            
            if (req.clicks && gameState.totalClicks < req.clicks) return false;
            if (req.breads && gameState.totalBreads < req.breads) return false;
            if (req.goldenClicks && gameState.goldenClicks < req.goldenClicks) return false;
            
            // Verificar requisitos de produtores
            for (const producerId in req) {
                if (gameState.producers[producerId] && gameState.producers[producerId].count < req[producerId]) {
                    return false;
                }
            }
            
            return true;
        }
        
        // ==================== GOLDEN BREAD ====================
        
        function spawnGoldenBread() {
            const goldenBreads = document.querySelectorAll('.golden-bread');
            if (goldenBreads.length > 0) return;
            
            const golden = document.createElement('div');
            golden.className = 'golden-bread';
            golden.textContent = 'ü•ê';
            golden.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            golden.style.top = Math.random() * (window.innerHeight - 100) + 50 + 'px';
            
            golden.onclick = () => {
                clickGoldenBread(golden);
            };
            
            document.body.appendChild(golden);
            
            // Desaparece depois de 10 segundos
            setTimeout(() => {
                if (golden.parentNode) {
                    golden.remove();
                }
            }, 10000);
        }
        
        function clickGoldenBread(element) {
            element.remove();
            gameState.goldenClicks++;
            
            // Escolher efeito aleat√≥rio
            const effects = ['frenzy', 'multiply', 'bonus'];
            const effect = effects[Math.floor(Math.random() * effects.length)];
            
            switch (effect) {
                case 'frenzy':
                    activateFrenzy();
                    break;
                case 'multiply':
                    const mult = Math.floor(getTotalBPS() * 77);
                    gameState.breads += mult;
                    gameState.totalBreads += mult;
                    showNotification('ü•ê B√¥nus!', `+${formatNumber(mult)} p√£es!`);
                    break;
                case 'bonus':
                    const bonus = Math.floor(getTotalBPS() * 777);
                    gameState.breads += bonus;
                    gameState.totalBreads += bonus;
                    showNotification('ü•ê Jackpot!', `+${formatNumber(bonus)} p√£es!`);
                    break;
            }
            
            checkAchievements();
            updateDisplay();
        }
        
        function activateFrenzy() {
            gameState.frenzyMultiplier = 777;
            gameState.frenzyEndTime = Date.now() + 77000; // 77 segundos
            
            document.body.classList.add('frenzy-active');
            document.getElementById('frenzyIndicator').classList.add('show');
            
            showNotification('üî• FRENESI!', 'x777 produ√ß√£o por 77 segundos!');
        }
        
        function updateFrenzy() {
            if (gameState.frenzyEndTime > 0 && Date.now() >= gameState.frenzyEndTime) {
                gameState.frenzyMultiplier = 1;
                gameState.frenzyEndTime = 0;
                document.body.classList.remove('frenzy-active');
                document.getElementById('frenzyIndicator').classList.remove('show');
            }
        }
        
        // ==================== SEASON/SPECIAL EVENTS ====================
        
        function startSeason() {
            const seasons = [
                { name: 'Fornos Dourados', multiplier: 2, icon: 'üî•', target: 'oven' },
                { name: 'Padeiros Especializados', multiplier: 2, icon: 'üë®‚Äçüç≥', target: 'baker' },
                { name: 'Temporada de Fazenda', multiplier: 2, icon: 'üåæ', target: 'farm' },
                { name: 'Moinhos M√°gicos', multiplier: 2, icon: '‚öôÔ∏è', target: 'mill' },
                { name: 'Templo Sagrado', multiplier: 2, icon: 'üõï', target: 'temple' },
                { name: 'Portais Abertos', multiplier: 2, icon: 'üåÄ', target: 'portal' },
                { name: 'M√°quina do Tempo', multiplier: 2, icon: '‚è∞', target: 'timemachine' },
                { name: 'F√°bricas em Alta', multiplier: 2, icon: 'üè≠', target: 'factory' },
                { name: 'Padaria Boom', multiplier: 2, icon: 'üè™', target: 'bakery' },
                { name: 'Clique Maravilhoso', multiplier: 3, icon: 'üëÜ', target: 'click' },
            ];
            
            const season = seasons[Math.floor(Math.random() * seasons.length)];
            gameState.currentSeason = season;
            gameState.seasonEndTime = Date.now() + 60000; // 60 segundos
            
            document.getElementById('seasonIndicator').textContent = `üéâ Temporada: ${season.name}! x${season.multiplier} produ√ß√£o`;
            document.getElementById('seasonIndicator').classList.add('active');
            
            showNotification('üéâ Nova Temporada!', `${season.name} - x${season.multiplier} produ√ß√£o!`);
        }
        
        function updateSeasons() {
            if (gameState.currentSeason && Date.now() >= gameState.seasonEndTime) {
                gameState.currentSeason = null;
                document.getElementById('seasonIndicator').classList.remove('active');
            }
        }
        
        // ==================== POWER-UPS ====================
        
        function spawnPowerup() {
            const powerups = [
                { name: '‚ö° Super Padeiro', multiplier: 5, duration: 30 },
                { name: 'üî• Forno Supremo', multiplier: 10, duration: 20 },
                { name: '‚ú® Fermento M√°gico', multiplier: 3, duration: 60 },
                { name: 'üåü Estrela do P√£o', multiplier: 15, duration: 15 },
                { name: 'üíé Diamante Farin√°ceo', multiplier: 25, duration: 10 },
            ];
            
            const powerup = powerups[Math.floor(Math.random() * powerups.length)];
            gameState.activePowerup = powerup;
            gameState.powerupEndTime = Date.now() + powerup.duration * 1000;
            
            document.getElementById('powerupName').textContent = powerup.name;
            document.getElementById('powerupIndicator').classList.add('active');
            
            showNotification('‚ö° Power-up!', `${powerup.name} ativo!`);
        }
        
        function updatePowerups() {
            if (gameState.activePowerup && Date.now() >= gameState.powerupEndTime) {
                gameState.activePowerup = null;
                document.getElementById('powerupIndicator').classList.remove('active');
            }
            
            if (gameState.activePowerup) {
                const remaining = Math.ceil((gameState.powerupEndTime - Date.now()) / 1000);
                document.getElementById('powerupTimer').textContent = `Tempo restante: ${remaining}s`;
            }
        }
        
        // ==================== CUSTOMER ORDERS ====================
        
        function generateOrder() {
            const orders = [
                { name: 'Pedido de P√£o', requirement: 1000, reward: 5000 },
                { name: 'Encomenda de Padaria', requirement: 10000, reward: 60000 },
                { name: 'Contrato Corporativo', requirement: 100000, reward: 700000 },
                { name: 'Pedido Real', requirement: 1000000, reward: 8000000 },
                { name: 'Fornecimento Estatal', requirement: 10000000, reward: 90000000 },
            ];
            
            const order = orders[Math.floor(Math.random() * orders.length)];
            gameState.currentOrder = order;
            gameState.orderEndTime = Date.now() + 30000; // 30 segundos
            
            document.getElementById('orderTitle').textContent = `üìã ${order.name}!`;
            document.getElementById('orderDesc').textContent = `Precisa de ${formatNumber(order.requirement)} p√£es`;
            document.getElementById('orderReward').textContent = `Recompensa: ${formatNumber(order.reward)} üçû`;
            document.getElementById('orderNotification').classList.add('active');
        }
        
        function updateOrders() {
            if (gameState.currentOrder) {
                if (gameState.totalBreads >= gameState.currentOrder.requirement) {
                    // Completar pedido
                    gameState.breads += gameState.currentOrder.reward;
                    gameState.totalBreads += gameState.currentOrder.reward;
                    showNotification('üìã Pedido Completado!', `+${formatNumber(gameState.currentOrder.reward)} p√£es!`);
                    gameState.currentOrder = null;
                    document.getElementById('orderNotification').classList.remove('active');
                } else if (Date.now() >= gameState.orderEndTime) {
                    // Tempo esgotado
                    gameState.currentOrder = null;
                    document.getElementById('orderNotification').classList.remove('active');
                }
            }
        }
        
        // ==================== AUTO-CLICKER ====================
        
        function autoClick() {
            if (gameState.autoClickers > 0) {
                const clickValue = getClickValue() * 0.5; // Auto-click vale metade
                gameState.breads += clickValue * gameState.autoClickers;
                gameState.totalBreads += clickValue * gameState.autoClickers;
                updateDisplay();
            }
        }
        
        // ==================== PREST√çGIO ====================
        
        function calculateCelestialFlour() {
            return Math.floor(Math.pow(gameState.totalBreads / 1000000000000, 0.5));
        }
        
        function prestige() {
            const newCelestial = calculateCelestialFlour();
            if (newCelestial <= 0) return;
            
            if (!confirm(`Voc√™ vai ganhar ${newCelestial} Farinha Celestial e resetar seu progresso. Continuar?`)) {
                return;
            }
            
            gameState.celestialFlour += newCelestial;
            gameState.totalPrestiges++;
            
            // Resetar progresso
            gameState.breads = 0;
            gameState.totalBreads = 0;
            gameState.totalClicks = 0;
            gameState.combo = 1;
            gameState.maxCombo = 1;
            gameState.quality = 0;
            gameState.autoClickers = 0;
            
            PRODUCERS.forEach(p => {
                gameState.producers[p.id] = { count: 0, production: p.baseProduction };
            });
            
            gameState.upgrades = [];
            
            showNotification('üåü Ascens√£o!', `+${newCelestial} Farinha Celestial!`);
            checkAchievements();
            updateDisplay();
            renderUpgrades();
            renderProducers();
        }
        
        // ==================== CONQUISTAS ====================
        
        function checkAchievements() {
            ACHIEVEMENTS.forEach(achievement => {
                if (gameState.achievements.includes(achievement.id)) return;
                
                let unlocked = true;
                const req = achievement.requirement;
                
                if (req.breads && gameState.totalBreads < req.breads) unlocked = false;
                if (req.clicks && gameState.totalClicks < req.clicks) unlocked = false;
                if (req.goldenClicks && gameState.goldenClicks < req.goldenClicks) unlocked = false;
                if (req.prestiges && gameState.totalPrestiges < req.prestiges) unlocked = false;
                if (req.upgrades && gameState.upgrades.length < req.upgrades) unlocked = false;
                if (req.maxCombo && gameState.maxCombo < req.maxCombo) unlocked = false;
                if (req.quality && gameState.quality < req.quality) unlocked = false;
                
                // Verificar produtores
                for (const producerId in req) {
                    if (gameState.producers[producerId] && gameState.producers[producerId].count < req[producerId]) {
                        unlocked = false;
                    }
                }
                
                if (unlocked) {
                    gameState.achievements.push(achievement.id);
                    showAchievementNotification(achievement);
                }
            });
        }
        
        function showAchievementNotification(achievement) {
            const notification = document.getElementById('achievementNotification');
            notification.querySelector('.achievement-notification-icon').textContent = achievement.icon;
            document.getElementById('achievementNotificationDesc').textContent = achievement.name;
            
            notification.classList.add('show');
            setTimeout(() => notification.classList.remove('show'), 3000);
        }
        
        function showNotification(title, desc) {
            const notification = document.getElementById('achievementNotification');
            notification.querySelector('.achievement-notification-icon').textContent = 'ü•ê';
            notification.querySelector('.achievement-notification-title').textContent = title;
            document.getElementById('achievementNotificationDesc').textContent = desc;
            
            notification.classList.add('show');
            setTimeout(() => notification.classList.remove('show'), 3000);
        }
        
        // ==================== RENDERIZA√á√ÉO ====================
        
        function updateDisplay() {
            document.getElementById('breadCount').textContent = formatNumber(gameState.breads);
            document.getElementById('bps').textContent = formatNumber(getTotalBPS());
            document.getElementById('totalProduced').textContent = formatNumber(gameState.totalBreads);
            document.getElementById('totalClicks').textContent = formatNumber(gameState.totalClicks);
            document.getElementById('perClick').textContent = formatNumber(getClickValue());
            document.getElementById('currentCombo').textContent = 'x' + gameState.combo;
            
            // Atualizar combo indicator
            const comboIndicator = document.getElementById('comboIndicator');
            if (gameState.combo > 1) {
                comboIndicator.textContent = `COMBO x${gameState.combo}`;
                comboIndicator.classList.add('show');
            } else {
                comboIndicator.classList.remove('show');
            }
            
            // Atualizar qualidade
            document.getElementById('qualityFill').style.width = gameState.quality + '%';
            const qualityNames = ['Comum', 'Bom', '√ìtimo', 'Excelente', 'Perfeito'];
            const qualityIndex = Math.min(Math.floor(gameState.quality / 25), 4);
            document.getElementById('qualityLevel').textContent = qualityNames[qualityIndex];
            
            // Atualizar auto-clicker
            if (gameState.autoClickers > 0) {
                document.getElementById('autoclickerCount').textContent = gameState.autoClickers;
                document.getElementById('autoclickerIndicator').classList.add('active');
            } else {
                document.getElementById('autoclickerIndicator').classList.remove('active');
            }
            
            // Atualizar prest√≠gio
            document.getElementById('currentCelestial').textContent = gameState.celestialFlour;
            document.getElementById('celestialBonus').textContent = gameState.celestialFlour;
            document.getElementById('nextCelestial').textContent = calculateCelestialFlour();
            
            const prestigeBtn = document.getElementById('prestigeBtn');
            prestigeBtn.disabled = calculateCelestialFlour() <= 0;
            
            // Atualizar custos e estados dos produtores
            updateProducerStates();
            updateUpgradeStates();
        }
        
        function updateProducerStates() {
            PRODUCERS.forEach(p => {
                const element = document.querySelector(`[data-producer="${p.id}"]`);
                if (!element) return;
                
                const cost = getProducerCost(p.id);
                const owned = gameState.producers[p.id];
                
                element.querySelector('.producer-cost').textContent = formatNumber(cost);
                element.querySelector('.producer-count').textContent = owned.count;
                element.querySelector('.producer-production').textContent = 
                    `produz ${formatNumber(owned.production * owned.count)} p√£es/s`;
                
                element.classList.remove('affordable', 'locked');
                if (gameState.breads >= cost) {
                    element.classList.add('affordable');
                } else if (gameState.totalBreads < p.baseCost * 0.5) {
                    element.classList.add('locked');
                }
            });
        }
        
        function updateUpgradeStates() {
            UPGRADES.forEach(u => {
                const element = document.querySelector(`[data-upgrade="${u.id}"]`);
                if (!element) return;
                
                element.classList.remove('affordable', 'locked', 'purchased');
                
                if (gameState.upgrades.includes(u.id)) {
                    element.classList.add('purchased');
                } else if (gameState.breads >= u.cost && checkRequirement(u.requirement)) {
                    element.classList.add('affordable');
                } else {
                    element.classList.add('locked');
                }
            });
        }
        
        function renderProducers() {
            const container = document.getElementById('producersList');
            container.innerHTML = '';
            
            PRODUCERS.forEach(p => {
                const cost = getProducerCost(p.id);
                const owned = gameState.producers[p.id];
                
                const div = document.createElement('div');
                div.className = 'producer-item';
                div.setAttribute('data-producer', p.id);
                div.onclick = () => buyProducer(p.id);
                
                div.innerHTML = `
                    <div class="producer-icon">${p.icon}</div>
                    <div class="producer-info">
                        <div class="producer-name">${p.name}</div>
                        <div class="producer-production">produz ${formatNumber(owned.production * owned.count)} p√£es/s</div>
                        <div class="producer-owned">${p.description}</div>
                    </div>
                    <div class="producer-cost-section">
                        <div class="producer-cost">üçû ${formatNumber(cost)}</div>
                        <div class="producer-count">${owned.count}</div>
                    </div>
                    <div class="producer-tooltip">
                        <div class="tooltip-name">${p.name}</div>
                        <div class="tooltip-desc">${p.description}</div>
                        <div style="font-style: italic; color: #888; margin: 8px 0;">"${p.flavor}"</div>
                        <div>Produ√ß√£o base: ${formatNumber(p.baseProduction)} p√£es/s</div>
                        <div>Voc√™ tem: ${owned.count}</div>
                        <div>Produ√ß√£o total: ${formatNumber(owned.production * owned.count)} p√£es/s</div>
                    </div>
                `;
                
                container.appendChild(div);
            });
        }
        
        function renderUpgrades() {
            const container = document.getElementById('upgradeGrid');
            container.innerHTML = '';
            
            UPGRADES.forEach(u => {
                const div = document.createElement('div');
                div.className = 'upgrade-item';
                div.setAttribute('data-upgrade', u.id);
                div.onclick = () => buyUpgrade(u.id);
                div.textContent = u.icon;
                
                if (gameState.upgrades.includes(u.id)) {
                    div.classList.add('purchased');
                }
                
                div.innerHTML += `
                    <div class="upgrade-tooltip">
                        <div class="tooltip-name">${u.name}</div>
                        <div class="tooltip-desc">${u.description}</div>
                        <div class="tooltip-cost">üçû ${formatNumber(u.cost)}</div>
                    </div>
                `;
                
                container.appendChild(div);
            });
        }
        
        function renderAchievements() {
            const container = document.getElementById('achievementGrid');
            container.innerHTML = '';
            
            ACHIEVEMENTS.forEach(a => {
                const div = document.createElement('div');
                div.className = 'achievement-item';
                if (gameState.achievements.includes(a.id)) {
                    div.classList.add('unlocked');
                }
                div.textContent = a.icon;
                
                div.innerHTML += `
                    <div class="achievement-tooltip">
                        <div style="color: var(--golden); font-weight: bold;">${a.name}</div>
                        <div style="color: #ccc; font-size: 0.85rem;">${a.description}</div>
                    </div>
                `;
                
                container.appendChild(div);
            });
            
            document.getElementById('achievementCount').textContent = gameState.achievements.length;
            document.getElementById('achievementTotal').textContent = ACHIEVEMENTS.length;
        }
        
        function renderStats() {
            const container = document.getElementById('statsGrid');
            const playTime = Date.now() - gameState.startTime;
            
            container.innerHTML = `
                <div class="stats-item">
                    <span class="stats-label">P√£es atuais</span>
                    <span class="stats-value">${formatNumber(gameState.breads)}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Total produzido</span>
                    <span class="stats-value">${formatNumber(gameState.totalBreads)}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">P√£es por segundo</span>
                    <span class="stats-value">${formatNumber(getTotalBPS())}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">P√£es por clique</span>
                    <span class="stats-value">${formatNumber(getClickValue())}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Total de cliques</span>
                    <span class="stats-value">${formatNumber(gameState.totalClicks)}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">P√£es dourados clicados</span>
                    <span class="stats-value">${gameState.goldenClicks}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Melhorias compradas</span>
                    <span class="stats-value">${gameState.upgrades.length}/${UPGRADES.length}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Conquistas</span>
                    <span class="stats-value">${gameState.achievements.length}/${ACHIEVEMENTS.length}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Farinha Celestial</span>
                    <span class="stats-value">${gameState.celestialFlour} ‚ú®</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Ascens√µes</span>
                    <span class="stats-value">${gameState.totalPrestiges}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Combo m√°ximo</span>
                    <span class="stats-value">x${gameState.maxCombo}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Auto-clicadores</span>
                    <span class="stats-value">${gameState.autoClickers}</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Tempo jogado</span>
                    <span class="stats-value">${formatTime(playTime)}</span>
                </div>
            `;
        }
        
        // ==================== MODAIS ====================
        
        function openModal(modalId) {
            if (modalId === 'achievementsModal') renderAchievements();
            if (modalId === 'statsModal') renderStats();
            document.getElementById(modalId).classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        // Fechar modal ao clicar fora
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                }
            });
        });
        
        // ==================== MOBILE ====================
        
        function showMobileSection(section) {
            document.querySelectorAll('.mobile-tabs button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('upgradesSection').classList.remove('active');
            document.getElementById('producersSection').classList.remove('active');
            
            switch (section) {
                case 'upgrades':
                    document.getElementById('upgradesSection').classList.add('active');
                    document.getElementById('tabUpgrades').classList.add('active');
                    break;
                case 'main':
                    document.getElementById('tabMain').classList.add('active');
                    break;
                case 'producers':
                    document.getElementById('producersSection').classList.add('active');
                    document.getElementById('tabProducers').classList.add('active');
                    break;
            }
        }
        
        // ==================== SAVE/LOAD ====================
        
        function saveGame() {
            const saveData = btoa(JSON.stringify(gameState));
            localStorage.setItem('padariaInfinita', saveData);
            gameState.lastSave = Date.now();
            
            const indicator = document.getElementById('saveIndicator');
            indicator.classList.add('show');
            setTimeout(() => indicator.classList.remove('show'), 2000);
        }
        
        function loadGame() {
            const saveData = localStorage.getItem('padariaInfinita');
            if (saveData) {
                try {
                    const loaded = JSON.parse(atob(saveData));
                    
                    // Merge com estado padr√£o para garantir que novos campos existam
                    gameState = { ...gameState, ...loaded };
                    
                    // Garantir que todos os produtores existam
                    PRODUCERS.forEach(p => {
                        if (!gameState.producers[p.id]) {
                            gameState.producers[p.id] = { count: 0, production: p.baseProduction };
                        }
                    });
                    
                    return true;
                } catch (e) {
                    console.error('Erro ao carregar save:', e);
                    return false;
                }
            }
            return false;
        }
        
        function exportSave() {
            const saveData = btoa(JSON.stringify(gameState));
            prompt('Copie seu save:', saveData);
        }
        
        function importSave() {
            const saveData = prompt('Cole seu save:');
            if (saveData) {
                try {
                    const loaded = JSON.parse(atob(saveData));
                    gameState = { ...gameState, ...loaded };
                    renderProducers();
                    renderUpgrades();
                    updateDisplay();
                    alert('Save importado com sucesso!');
                } catch (e) {
                    alert('Save inv√°lido!');
                }
            }
        }
        
        function resetGame() {
            if (confirm('Tem certeza? Todo o progresso ser√° perdido!')) {
                if (confirm('REALMENTE certeza? N√£o h√° volta!')) {
                    localStorage.removeItem('padariaInfinita');
                    location.reload();
                }
            }
        }
        
        // ==================== PART√çCULAS DE FUNDO ====================
        
        function createBgParticles() {
            const container = document.getElementById('bgParticles');
            const emojis = ['üçû', 'ü•ñ', 'ü•ê', 'ü•Ø', 'ü•®', 'üåæ'];
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }
        
        // ==================== LOOP PRINCIPAL ====================
        
        function gameLoop() {
            // Produ√ß√£o autom√°tica
            const bps = getTotalBPS();
            const production = bps / 60; // 60 FPS
            gameState.breads += production;
            gameState.totalBreads += production;
            
            // Atualizar frenesi
            updateFrenzy();
            
            // Atualizar temporada
            updateSeasons();
            
            // Atualizar power-ups
            updatePowerups();
            
            // Atualizar pedidos
            updateOrders();
            
            // Atualizar combo
            if (gameState.comboTimer > 0) {
                gameState.comboTimer -= 16;
                if (gameState.comboTimer <= 0) {
                    gameState.combo = 1;
                }
            }
            
            // Atualizar qualidade
            if (gameState.qualityTimer > 0) {
                gameState.qualityTimer -= 16;
                if (gameState.qualityTimer <= 0) {
                    gameState.quality = Math.max(0, gameState.quality - 5);
                }
            }
            
            updateDisplay();
        }
        
        function goldenBreadTimer() {
            // Chance de spawn a cada check (m√©dia de ~2 minutos)
            const baseChance = 0.005;
            let chance = baseChance * gameState.goldenBreadSpawnRate;
            
            // Aumentar chance com upgrades de golden
            UPGRADES.filter(u => u.type === 'golden' && gameState.upgrades.includes(u.id)).forEach(u => {
                chance *= u.multiplier;
            });
            
            if (Math.random() < chance) {
                spawnGoldenBread();
            }
        }
        
        function seasonTimer() {
            // Chance de nova temporada a cada 2 minutos
            if (Math.random() < 0.01 && !gameState.currentSeason) {
                startSeason();
            }
        }
        
        function powerupTimer() {
            // Chance de power-up a cada 30 segundos
            if (Math.random() < 0.02 && !gameState.activePowerup) {
                spawnPowerup();
            }
        }
        
        function orderTimer() {
            // Chance de novo pedido a cada 45 segundos
            if (Math.random() < 0.015 && !gameState.currentOrder) {
                generateOrder();
            }
        }
        
        // ==================== INICIALIZA√á√ÉO ====================
        
        function init() {
            loadGame();
            createBgParticles();
            renderProducers();
            renderUpgrades();
            updateDisplay();
            
            // Game loop - 60 FPS
            setInterval(gameLoop, 1000 / 60);
            
            // Auto-clicker - 1x por segundo
            setInterval(autoClick, 1000);
            
            // Golden bread timer - check a cada segundo
            setInterval(goldenBreadTimer, 1000);
            
            // Season timer - check a cada 2 segundos
            setInterval(seasonTimer, 2000);
            
            // Power-up timer - check a cada 2 segundos
            setInterval(powerupTimer, 2000);
            
            // Order timer - check a cada 2 segundos
            setInterval(orderTimer, 2000);
            
            // Auto save - a cada 30 segundos
            setInterval(saveGame, 30000);
            
            // Checar conquistas a cada segundo
            setInterval(checkAchievements, 1000);
            
            console.log('üçû Padaria Infinita v2.0 iniciada!');
        }
        
        // Iniciar quando a p√°gina carregar
        window.onload = init;
        
        // Salvar antes de fechar
        window.onbeforeunload = () => {
            saveGame();
        };
    </script>
</body>
</html>
